# Cодержание
1) [Проектная деятельность + сайт](https://github.com/k0swel/practice-2025/edit/main/docs/README.md#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BD%D0%B0%D1%8F-%D0%B4%D0%B5%D1%8F%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
2) [Вариативная часть задания](https://github.com/k0swel/practice-2025/edit/main/docs/README.md#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BD%D0%B0%D1%8F-%D0%B4%D0%B5%D1%8F%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C)

# Проектная деятельность
## Что же такое САПР?
[_**САПР**_](https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F "Что же такое САПР?") (или же Система автоматизированного проектирования) - автоматизированная система, реализующая информационные технологии для выполнения функций проектирования или чертения. Представляет собой организационно-техническую систему, предназначенную для автоматизации процесса проектирования, состоящую из персонала и комплекса технических, программных и других средстав автоматизации его деятельности.

![САПР](https://www.ixbt.com/soft/images/sapr-askon-kompas/komp0.jpg "САПР")

## Коротко о проекте "Разработка инженерного программного обеспечения"
Это подпроект лаборатории САПР в Московском Политехе, который занимается разработкой программных модулей под такие CAD-системы, как NanoCAD, КОМПАС-3Д. Проект имеет богатый стек для разработки:
* API nanoCAD, API Компас-3D
* С/C++, Qt, MFC
* C#, .NET, WPF
* Python, FastAPI, SQLite
* JS, React
* Docker, DevContainers
* OpenGL, Babylon.js

### Примеры работ из проекта "Разработка инженерного программного обеспечения"
![screen 1](https://sun9-65.userapi.com/impg/3D1z0ble_c85erZ4hnqwVfCLGF4odt04gKA9Ow/pHJddYlTksE.jpg?size=1309x648&quality=95&sign=908fd5f8498c5183e22fbcdbcb14dc70&type=album)

![screen 2](https://sun9-56.userapi.com/impg/mfm4zl01Ue4e5OMK2Cyd2u7PEnA2cFnTxtratQ/j9mxHblSOdw.jpg?size=1314x671&quality=95&sign=8f446b3fb9a5163b8dc158c3b63bc485&type=album)

![screen 3](https://sun9-24.userapi.com/impg/Oj1kowIDJnVem0b5Zf2DXX-YOGPAeF36PrOBWg/24nFKJHnJmE.jpg?size=1262x646&quality=95&sign=f7f027a741183f4b0034eeddc62d8fa7&type=album)

## Партнёр проекта "Разработка инженерного программного обеспечения
Партнёром подпроекта лаборатории САПР "Разработка инженерного программного обеспечения" является компания [НАНОСОФТ](https://www.nanocad.ru/?ysclid=m98w0sdztz85240165 "Сайт НАНОСОФТ")

"НаноСофт" - Российский разработчик инженерного ПО: технологий автоматизированного проектирования (САПР/CAD), информационного моделирования (ТИМ/BIM) и сопровождения объектов промышленного и гражданского строительства (ПГС) на всех этапах жизненного цикла, а также сквозной цифровизации всех процессов в производстве.

[![Нанософт](https://sun9-17.userapi.com/impg/Xkul7HgGmmpQ1DKvgvvDZhLxIp77ZHci5YA6JA/SdwPW8Bq5FQ.jpg?size=702x194&quality=95&sign=5e556833f14ab207245f0ea76ee02b3a&type=album "НАНОСОФТ")](https://www.nanocad.ru/?ysclid=m98w0sdztz85240165)

## Мой вклад в проект
Поскольку я, [Леоненко Роман Александрович](https://t.me/k0swel "Мой TG") являюсь студентом первого курса, мне и моим сокурсникам по проекту было поручено изучать API программы NanoCAD на платформе .NET. Обучение происходило по материалам [**Нанософт**](https://www.nanocad.ru/?ysclid=m98w0sdztz85240165 "Сайт НаноСофт") - [\*тык\*](https://moodletest.nanodev.ru/ "Ссылка на курс от Нанософт").

Что я выполнял в рамках курса:
|Номер модуля|Описание|
|:-:|:--------|
|Модуль 1|Введение в .NET API. Ввод данных, ключевые слова. Транзакции, создание объектов. Выбор, наборы выбора, приведение типов.|
|Модуль 2|Сложные составные объекты. Блоки, полилинии, размеры.|
|Модуль 3|Геометрическая библиотека, работа с кривыми. Координатные системы, команды в ПСК.|
|Модуль 4|Основные свойства примитивов. Интерактивное создание и редактирование примитивов: Jig.|
|Модуль 5|Реакторы. События базы данных, редактора, системы. Контроль объектов, находящихся под курсором.|
|Модуль 6|Создание окон на WinForms/WPF. Палитры. Программный интерфейс подсистемы печати.|
|Модуль 7|Таблицы .dwg. Неграфические данные. XData, XRecord, словари расширения. Переопределение характеристик объектов чертежа: Overrule.|
|Модуль 8|MultiCAD.NET. Элементы оформления и таблицы.|

Подробнее о моём вкладе в проект можно узнать на моём [сайте-визитке](https://github.com/k0swel/practice-2025/tree/main/site) проекта "Разработка инженерного программного обеспечения"

***

# Вариативная часть задания
## Введение
В рамках вариативной части задания я, Леоненко Роман Александрович, студент учебной группы 241-3211, выбрал технологию [<i>**Python: How To Create a Telegram Bot Using Python**</i>](https://www.freecodecamp.org/news/how-to-create-a-telegram-bot-using-python/) из репозитория [<i>**build your own x**</i>](https://github.com/codecrafters-io/build-your-own-x).

Docker-образ бота в данный момент расположен на хостинге [**Amvera**](https://amvera.ru) , поэтому вы можете протестировать его (юзернейм [__**@weather_mpu_practice_bot**__](https://t.me/weather_mpu_practice_bot))

[![image](https://github.com/user-attachments/assets/b62e634b-f88e-4c1a-b6a7-9bdf5930a98d)](https://t.me/weather_mpu_practice_bot)

## Техническое руководство
### Запуск проекта на своём устройстве
Для реализации технологии рекомендуется использовать [<i>**Python 3.13**</i>](https://www.python.org/downloads/release/python-3130/) (чтобы избежать возможных ошибок при интерпритации).

Мануал по загрузке бота на своё устройство и запуск вы можете найти [<i>**здесь**</i>](https://github.com/k0swel/practice-2025/blob/main/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%87%D0%B0%D1%81%D1%82%D1%8C%20%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F/README.md).

В качестве фреймворка для функционирования Telegram-бота **Узнай погоду в своём городе!☀️** я использовал ```pyTelegramBotAPI```, который позволяет эффективно отправлять запросы на сервера Telegram, используя асинхронный цикл событий.

### Структура проекта telegram-бота
В качестве внутренней структуры директории проекта я решил разместить хендлеры и служебные функции в соответствующих папках (```./handlers``` и ```./service_functions```):
```plaintext
├── README.md
├── handlers/
│   ├── handlers.py
│   ├── practice_documentation.md
├── service_functions/
│   ├── add_filters.py # добавление кастомных фильтров в бота. Функция, расположенная в файле, вызывается в main.py<.
│   ├── api_weather.py # функции для GET-запросов по получению погоды по координатам или названию местности.
│   ├── custom_error.py # собственный класс для ошибок. Используется с ключевым словом raise. Содержит в себе текст ошибки и указатель на последнюю ошибку.
|   ├── keyboard.py # функции для получения клавиатуры. Используются в handlers/handlers.py.
|   ├── states.py # функция необходима длч присваивая различных состояний (например: ожидание ввода от пользователя). Используется в handlers/handlers.py
├── .gitignore # файл необходим для указания git какие файлы ему нужно игнорировать при добавлении в индекс.
├── Dockerfile # файл, содержащий инструкции по построению файловой системы образа. Необходим для контейнеризации проекта.
├── README.md # документация к репозиторию. Оформлен в стиле markdown.
├── main.py # файл, содержащий в себе точку входа. При запуске проекта необходимо запускать именно этот файл.
└── requirements.txt # текстовый документ, в котором содержатся необходимые библиотеки, необходимые для функционирования бота. Используяется утилитой pip для загрузки в виртуальное окружение.
```
### Основной принцип работы.
Telegram-бот ```Узнай погоду в своём городе!☀️``` работает по принципу **long-polling**.

Чтобы понять **long-polling**, нужно разобрать что такое **polling**.

**Polling** (с англ.языка = опрос) - метод, при котором клиент постоянно опрашивает сервер о новой информации. Это не очень удобно, посколько создаёт лишнюю неоправданную нагрузку на сеть.

**Long-polling** (с англ.языка = продолжительный опрос) - метод, при котором клиент опрашивает сервер о новой информации, но прежде чем сервер отправит ответ на  запрос - он ждёт N секунд (например 30-50 секунд). Если в течение этого времени сервер не получает обновлений, то он отправляет клиенту сообщение о том, что обновлений нет и разрывает соединение.

Основное отличие в том, что Long-Polling использует длительное HTTP/S подключение к серверу, в отличие от Polling.

Как указать длительность ожидания ответа от сервера в ```Telebot```:
```python
await Bot.polling(skip_pending=True, timeout=20) # запускаем цикл запросов на сервера Telegram c ожиданием ответа в 20 секунд.
```
Для эффективного взаимодействия Telegram бота библиотека ```PyTelegramBotAPI``` использует асинхронный цикл событий. Что это значит? Бот отправляет запросы (отправки сообщений и прочее) на сервера Telegram и вместо остановки программы в ожидании ответа он обрабатывает запросы от других пользователей (получение хендлерами сообщений).

### Финальный результат
Результатом моей работы является Telegram-бот [**Узнай погоду в своём городе!☀️**](https://t.me/weather_mpu_practice_bot), который обладает следующим функционалом:
* Запрос погоды по названию населенного пункта;
* Запрос погоды по текущему местоположению пользователя.

![gif функционал бота](https://github.com/user-attachments/assets/a02fe455-ef86-4010-b60f-be3fdc6a1f29)
